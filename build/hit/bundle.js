!function t(i,e,n){function o(s,a){if(!e[s]){if(!i[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=e[s]={exports:{}};i[s][0].call(l.exports,function(t){var e=i[s][1][t];return o(e||t)},l,l.exports,t,i,e,n)}return e[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,i,e){"use strict";function n(){if(h&&u){var t=u.getContext("2d");u.width=h.width,u.height=h.height,t.drawImage(h,0,0,h.width,h.height),document.body.removeChild(h),document.body.removeChild(u),o(u,h)}}function o(t,i){s=new a.ImageEditor(t,i),r()}function r(){s&&s.resize()}var s,a=t("./nts/editor/ImageEditor"),h=document.getElementById("image"),u=document.getElementById("texture");window.onload=n.bind(void 0),window.onresize=r.bind(void 0)},{"./nts/editor/ImageEditor":2}],2:[function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.ImageEditor=void 0;var o=t("./crop/Cropper"),r=(t("./resize/Resizer"),t("../../../lib/animation"));e.ImageEditor=function(){function t(i,e){n(this,t),this.initialize(i,e),this.resize(),this.updateLoop()}return t.prototype.initialize=function(t,i){this.imageElement=t,this.textureCanvas=i,this.canvas=document.getElementById("canvas"),this.context=this.canvas.getContext("2d"),this.renderer=new PIXI.CanvasRenderer(this.canvas.width,this.canvas.height,{view:this.canvas,autoResize:!0,backgroundColor:1776411}),this.stage=new PIXI.Container(15133164),this.cropper=new o.Cropper(this.canvas,this.imageElement,this.textureCanvas),this.stage.addChild(this.cropper)},t.prototype.updateLoop=function(t){this.update(t),(0,r.requestAnimFrame)(this.updateLoop.bind(this))},t.prototype.update=function(t){this.cropper&&this.cropper.update(),this.renderer.render(this.stage)},t.prototype.resize=function(){var t=window.innerWidth,i=window.innerHeight;this.canvas.width=t*window.devicePixelRatio,this.canvas.height=i*window.devicePixelRatio,this.canvas.style.width=t+"px",this.canvas.style.height=i+"px",this.renderer.resize(t,i),this.cropper&&this.cropper.resize()},t}()},{"../../../lib/animation":15,"./crop/Cropper":5,"./resize/Resizer":6}],3:[function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}();e.HitSide=function(){function t(){n(this,t)}return o(t,null,[{key:"NONE",get:function(){return"none"}},{key:"LEFT",get:function(){return"left"}},{key:"TOP",get:function(){return"top"}},{key:"RIGHT",get:function(){return"right"}},{key:"BOTTOM",get:function(){return"bottom"}},{key:"LEFT_TOP",get:function(){return"left-top"}},{key:"LEFT_BOTTOM",get:function(){return"left-bottom"}},{key:"RIGHT_TOP",get:function(){return"right-top"}},{key:"RIGHT_BOTTOM",get:function(){return"right-bottom"}}]),t}()},{}],4:[function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}();e.KeyCode=function(){function t(){n(this,t)}return o(t,null,[{key:"NUM_0",get:function(){return 48}},{key:"NUM_1",get:function(){return 49}},{key:"NUM_2",get:function(){return 50}},{key:"NUM_3",get:function(){return 51}},{key:"NUM_4",get:function(){return 52}},{key:"SPACE",get:function(){return 32}},{key:"BACK_SPACE",get:function(){return 8}},{key:"ENTER",get:function(){return 13}},{key:"SHIFT",get:function(){return 16}},{key:"CTRL",get:function(){return 17}},{key:"ALT",get:function(){return 18}},{key:"ESC",get:function(){return 27}},{key:"LEFT_ARROW",get:function(){return 37}},{key:"RIGHT_ARROW",get:function(){return 39}},{key:"UP_ARROW",get:function(){return 38}},{key:"DOWN_ARROW",get:function(){return 40}},{key:"DELETE",get:function(){return 46}},{key:"F1",get:function(){return 112}},{key:"F2",get:function(){return 113}},{key:"F3",get:function(){return 114}},{key:"F4",get:function(){return 115}},{key:"Q",get:function(){return 81}},{key:"W",get:function(){return 87}},{key:"E",get:function(){return 69}},{key:"R",get:function(){return 82}},{key:"A",get:function(){return 65}},{key:"S",get:function(){return 83}},{key:"D",get:function(){return 68}},{key:"F",get:function(){return 70}},{key:"Z",get:function(){return 90}},{key:"X",get:function(){return 88}},{key:"C",get:function(){return 67}},{key:"V",get:function(){return 86}}]),t}()},{}],5:[function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function o(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}function r(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}e.__esModule=!0,e.Cropper=void 0;var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),a=t("./../utils/Calculator"),h=t("./../ui/ResizeUI"),u=t("./../ui/RotateUI"),l=t("./../ui/MoveUI"),c=t("./../ui/imageUI"),d=t("./../const/KeyCode"),g=t("./../const/HitSide"),p=t("./../utils/Painter");e.Cropper=function(t){function i(e,r,s){n(this,i);var a=o(this,t.call(this));return a.initialize(e,r,s),a.addEvent(),a}return r(i,t),i.prototype.initialize=function(t,i,e){this.intervalId=[],this.paddingX=340,this.paddingY=340,this.canvas=t,this.imageElement=i,this.textureCanvas=e,this.isInitialize=!1,this._stageRotation=0,this.limitRotation=a.Calc.toRadians(45),this.maxRotation=this.limitRotation,this.minRotation=-this.limitRotation,this.rotation90=a.Calc.toRadians(90),this.image=new c.ImageUI(this.textureCanvas),this.moveUI=new l.MoveUI(this.canvas),this.rotateUI=new u.RotateUI(this.canvas),this.resizeUI=new h.ResizeUI(this.canvas),this.addChild(this.image),this.addChild(this.rotateUI),this.addChild(this.moveUI),this.addChild(this.resizeUI),this.gGrid=new PIXI.Graphics,this.gLine=new PIXI.Graphics,this.gLens=new PIXI.Graphics,this.gImage=new PIXI.Graphics,this.gBounds=new PIXI.Graphics,this.gRotate=new PIXI.Graphics,this.gMove=new PIXI.Graphics,this.gTest=new PIXI.Graphics,this.addChild(this.gLens),this.addChild(this.gLine),this.addChild(this.gGrid),this.addChild(this.gImage),this.addChild(this.gBounds),this.addChild(this.gRotate),this.addChild(this.gMove),this.addChild(this.gTest)},i.prototype.clearGraphics=function(){this.gLens.clear(),this.gLine.clear(),this.gGrid.clear(),this.gImage.clear(),this.gBounds.clear(),this.gRotate.clear(),this.gMove.clear(),this.gTest.clear()},i.prototype.addEvent=function(){var t=this;window.document.addEventListener("keyup",function(i){switch(i.keyCode){case d.KeyCode.ESC:console.clear();break;case d.KeyCode.SPACE:console.log(t.image.toString());break;case d.KeyCode.NUM_1:case d.KeyCode.NUM_2:case d.KeyCode.NUM_3:case d.KeyCode.NUM_4:t.testPivot(i.keyCode);break;case d.KeyCode.C:t.clearGraphics();break;case d.KeyCode.R:t.rotate()}}),this.moveUI.on("moveStart",this.moveStart.bind(this)),this.moveUI.on("moveChange",this.moveChange.bind(this)),this.moveUI.on("moveEnd",this.moveEnd.bind(this)),this.rotateUI.on("rotateStart",this.rotateStart.bind(this)),this.rotateUI.on("rotateChange",this.rotateChange.bind(this)),this.rotateUI.on("rotateEnd",this.rotateEnd.bind(this)),this.resizeUI.on("cornerResizeStart",this.cornerResizeStart.bind(this)),this.resizeUI.on("cornerResizeChange",this.cornerResizeChange.bind(this)),this.resizeUI.on("cornerResizeEnd",this.cornerResizeEnd.bind(this))},i.prototype.update=function(){},i.prototype.resize=function(){if(0==this.isInitialize){this.isInitialize=!0,this.initializeImage();var t=this.image.bounds;this.resizeUI.resize(t),this.moveUI.setSize(this.resizeUI.bounds),this.image.width=1.02*t.width,this.image.height=1.02*t.height,this.test()}else{var i=this.resizeUI.bounds;this.magnifyImage(i),this.moveUI.setSize(i)}this.rotateUI.resize(),this.gImage.clear(),this.gRotate.clear()},i.prototype.initializeImage=function(){var t=a.Calc.getImageSizeKeepAspectRatio(this.image,this.bounds);this.image.width=t.width,this.image.height=t.height,this.image.x=this.canvas.width/2,this.image.y=this.canvas.height/2,this.image.updatePrevLtPointForPivot(),this.startGuide(1e3)},i.prototype.test=function(){},i.prototype.testNextPosition=function(){var t=this.canvas.width/2,i=this.canvas.height/2,e=a.Calc.toRadians(30),n=a.Calc.toRadians(45),o=a.Calc.getNextMovePosition(t,i,30,n),r=a.Calc.getNextMovePosition(t,i,-30,n),s=a.Calc.getNextMovePosition(t,i,60,-n),h=a.Calc.getNextMovePosition(t,i,90,e),u=a.Calc.getNextMovePosition(t,i,90,-e);p.Painter.drawCircle(this.gTest,{x:t,y:i},4,0),p.Painter.drawCircle(this.gTest,o,4),p.Painter.drawCircle(this.gTest,r,4),p.Painter.drawCircle(this.gTest,s,4),p.Painter.drawCircle(this.gTest,h,4),p.Painter.drawCircle(this.gTest,u,4)},i.prototype.testNextPoint=function(){this.prevX=this.canvas.width/2,this.prevY=this.canvas.height/2;for(var t=a.Calc.toRadians(45)-a.Calc.toRadians(90),i=0;i<90;i++){var e=this.prevX+2*Math.cos(t),n=this.prevY+2*Math.sin(t);this.prevX=e,this.prevY=n}},i.prototype.testPivot=function(t){var i;switch(t){case d.KeyCode.NUM_1:i=0,this.image.setPivot({x:i,y:i});break;case d.KeyCode.NUM_2:i=-10,this.image.setPivot({x:i,y:i});break;case d.KeyCode.NUM_3:i=-20,this.image.setPivot({x:i,y:i});break;case d.KeyCode.NUM_4:i=-30,this.image.setPivot({x:i,y:i})}},i.prototype.setImagePivot=function(){var t=this.canvas.width/2,i=this.canvas.height/2;this.image.setPivot({x:t,y:i})},i.prototype.moveStart=function(t){this.stopGuide(),this.stopDrawHit(),this.stopFixMove(),this.isHit=!1,this.prevImageX=this.image.x,this.prevImageY=this.image.y,this.image.updatePrevLtPointForPivot()},i.prototype.moveChange=function(t){var i=t.change.x,e=t.change.y;Math.abs(i),Math.abs(e),this.prevImageX,this.prevImageY,this.image.rotation;this.image.x+=i,this.image.y+=e,!1===this.image.isContainsBounds(this.resizeUI)?this.isHit=!0:this.isHit=!1,this.image.isContainsBounds(this.resizeUI),this.displayImageHit(),this.image.updatePrevLtPointForPivot()},i.prototype.moveEnd=function(t){this.displayHit(),this.setImagePivot(),this.image.updatePrevLtPointForPivot()},i.prototype.displayImageHit=function(){this.image.displayHit(!1===this.image.isContainsBounds(this.resizeUI))},i.prototype.displayHit=function(){var t=this.image.getHitSide(this.resizeUI).split(",");this.resizeUI.isLtInsideBounds(this.image),this.resizeUI.isRtInsideBounds(this.image),this.resizeUI.isRbInsideBounds(this.image),this.resizeUI.isLbInsideBounds(this.image);this.hitSide=t,this.startDrawHit()},i.prototype.startGuide=function(t){var i=this;this.isGuide=!1;var e=setInterval(function(){i.doGuide()},t);this.intervalId.push(e)},i.prototype.stopGuide=function(){for(var t=this.intervalId.length,i=0;i<t;i++)clearInterval(this.intervalId.pop());this.guideText&&this.removeChild(this.guideText)},i.prototype.doGuide=function(){!1===this.isGuide?(this.isGuide=!0,this.guideText||(this.guideText=p.Painter.getText("DRAG IMAGE",16777215,15414067)),this.guideText.x=this.canvas.width/2,this.guideText.y=this.canvas.height/2,this.addChild(this.guideText)):(this.isGuide=!1,this.guideText&&this.removeChild(this.guideText))},i.prototype.startDrawHit=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1200;this.delayTime=t,this.stopGuide(),this.stopDrawHit(),this.stopFixMove(),this.drawHitAll()},i.prototype.stopDrawHit=function(){for(var t=this.intervalId.length,i=0;i<t;i++)clearTimeout(this.intervalId.pop());this.clearDrawHit()},i.prototype.clearDrawHit=function(){this.gTest&&this.gTest.clear(),this.text&&this.removeChild(this.text),this.directionArrow&&this.removeChild(this.directionArrow),this.vectorDirectionArrow&&this.removeChild(this.vectorDirectionArrow)},i.prototype.drawHitAll=function(){var t=this;this.fixHistory=[],this.clearDrawHit();for(var i=0,e=this.delayTime,n=[this.resizeUI.lt,this.resizeUI.rt,this.resizeUI.rb,this.resizeUI.lb],o=[this.image.leftLine,this.image.topLine,this.image.rightLine,this.image.bottomLine],r=0;r<n.length;r++)for(var s=n[r],a=0;a<o.length;a++)this.doDrawHit(s,o[a],i++,e);var h=setTimeout(function(){t.stopGuide(),t.stopDrawHit(),t.startFixMove()},this.getDelayTime(i++,e));this.intervalId.push(h)},i.prototype.startFixMove=function(){if(this.stopFixMove(),!this.image.isContainsBounds(this.resizeUI)){var t=0,i=this.delayTime,e=this.image,n=this.resizeUI;if(this.image.rotation-this.stageRotation>0){if(e.isOutLeftLine(n.lt)&&!1===n.isLtInsideBounds(e))return this.doFixMove(n.lt,e.leftLine,t++,i,"lt leftLine"),void this.delayFixMove(t++,i);if(e.isOutBottomLine(n.lb)&&!1===n.isLbInsideBounds(e))return this.doFixMove(n.lb,e.bottomLine,t++,i,"lb bottomLine"),void this.delayFixMove(t++,i);if(e.isOutTopLine(n.rt)&&!1===n.isRtInsideBounds(e))return this.doFixMove(n.rt,e.topLine,t++,i,"rt topLine"),void this.delayFixMove(t++,i);if(e.isOutRightLine(n.rb)&&!1===n.isRbInsideBounds(e))return this.doFixMove(n.rb,e.rightLine,t++,i,"rb rightLine"),void this.delayFixMove(t++,i)}else{if(e.isOutTopLine(n.lt)&&!1===n.isLtInsideBounds(e))return this.doFixMove(n.lt,e.topLine,t++,i,"lt topLine"),void this.delayFixMove(t++,i);if(e.isOutLeftLine(n.lb)&&!1===n.isLbInsideBounds(e))return this.doFixMove(n.lb,e.leftLine,t++,i,"lb leftLine"),void this.delayFixMove(t++,i);if(e.isOutRightLine(n.rt)&&!1===n.isRtInsideBounds(e))return this.doFixMove(n.rt,e.rightLine,t++,i,"rt rightLine"),void this.delayFixMove(t++,i);if(e.isOutBottomLine(n.rb)&&!1===n.isRbInsideBounds(e))return this.doFixMove(n.rb,e.bottomLine,t++,i,"rb bottomLine"),void this.delayFixMove(t++,i)}}},i.prototype.delayFixMove=function(t,i){var e=this,n=setTimeout(function(){e.startFixMove()},this.getDelayTime(t,i));this.intervalId.push(n)},i.prototype.stopFixMove=function(){for(var t=this.intervalId.length,i=0;i<t;i++)clearTimeout(this.intervalId.pop());this.clearFixMove()},i.prototype.clearFixMove=function(){this.gTest&&this.gTest.clear(),this.shortDistancePoint&&this.removeChild(this.shortDistancePoint),this.returnDirectionArrow&&this.removeChild(this.returnDirectionArrow),this.fixArrow&&this.removeChild(this.fixArrow)},i.prototype.doFixMove=function(t,i,e){for(var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e3,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=!1,a=0;a<this.fixHistory.length;a++)if(r==this.fixHistory[a]){s=!0;break}if(s)this.stopFixMove();else{this.fixHistory.push(r);var h=setTimeout(function(){n.fixMove(t,i)},this.getDelayTime(e,o));this.intervalId.push(h)}},i.prototype.fixMove=function(t,i){this.clearFixMove();var e=a.Calc.getShortestDistancePoint(t,i.a,i.b),n=a.Calc.getReturnPoint(t,e),o=this.image.x+n.x,r=this.image.y+n.y;this.shortDistancePoint=p.Painter.getCircle(5,15414067),this.shortDistancePoint.x=e.x,this.shortDistancePoint.y=e.y,this.returnDirectionArrow=p.Painter.getArrow(this.shortDistancePoint,t,10,1,15414067),p.Painter.drawLine(this.gTest,i.a,i.b,1,15414067),this.fixArrow=p.Painter.getArrow(this.image,{x:o,y:r},10,1,16777215),this.addChild(this.shortDistancePoint),this.addChild(this.returnDirectionArrow),this.addChild(this.fixArrow);var s=n.x<0?-1:1,h=n.y<0?-1:1;this.image.x=o+.01*s,this.image.y=r+.01*h,this.displayImageHit()},i.prototype.doDrawHit=function(t,i,e,n){var o=this,r=setTimeout(function(){o.drawHit(t,i)},this.getDelayTime(e,n));this.intervalId.push(r)},i.prototype.getDelayTime=function(t){return t*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)},i.prototype.checkHitSide=function(){if(this.hitSide!=g.HitSide.NONE&&void 0!=this.hitSide){var t=this.hitSide.pop();this.drawHitSide(t)}},i.prototype.drawHitSide=function(t){var i=void 0;switch(t){case g.HitSide.TOP:i=this.image.leftLine;break;case g.HitSide.RIGHT:case g.HitSide.RIGHT_TOP:case g.HitSide.RIGHT_BOTTOM:i=this.image.rightLine;break;case g.HitSide.BOTTOM:i=this.image.bottomLine;break;case g.HitSide.LEFT:case g.HitSide.LEFT_TOP:case g.HitSide.LEFT_BOTTOM:i=this.image.leftLine}this.drawHitLine(i)},i.prototype.drawHitLine=function(t){var i=this;this.clearDrawHit();var e=0,n=this.resizeUI.points;this.doDrawHit(n.lt,t,e++,5e3),this.doDrawHit(n.rt,t,e++,5e3),this.doDrawHit(n.rb,t,e++,5e3),this.doDrawHit(n.lb,t,e++,5e3);var o=setTimeout(function(){i.clearDrawHit(),i.hitSide.length>0&&i.startDrawHit()},this.getDelayTime(e++,5e3));this.intervalId.push(o)},i.prototype.drawHit=function(t,i){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.clearDrawHit();e.alpha,e.thickness,e.isFill;var n=e.inColor||891388,o=e.outColor||15414067,r=e.textColor||16777215,s=e.inString||"- RIGHT (IN)",h=e.outString||"+ LEFT (OUT)",u=a.Calc.triangleArea(t,i.a,i.b),l=u>0?o:n;p.Painter.drawLine(this.gTest,t,i.a,1,l),p.Painter.drawLine(this.gTest,t,i.b,1,l);var c=u>0?h:s;this.text=p.Painter.getText(c,r,l);var d=a.Calc.getTriangleCenterPoint(t,i.a,i.b);this.text.x=d.x,this.text.y=d.y,this.directionArrow=p.Painter.getArrow(a.Calc.getLineMiddle(i.a,i.b),t),this.vectorDirectionArrow=p.Painter.getArrow(i.a,i.b,10,1,16777215),this.addChild(this.vectorDirectionArrow),this.addChild(this.directionArrow),this.addChild(this.text)},i.prototype.rotateStart=function(t){this.stopGuide(),this.stopDrawHit(),this.stopFixMove(),this.setImagePivot(),this.resizeUIPoints=this.resizeUI.points,this.image.updatePrevLtPointForPivot()},i.prototype.rotateChange=function(t){if(this.image.rotation+=t.change,this.image.rotation<this.minRotation&&(this.image.rotation=this.minRotation),this.image.rotation>this.maxRotation&&(this.image.rotation=this.maxRotation),!1===this.image.isContainsBounds(this.resizeUI)){var i={x:this.image.x,y:this.image.y},e=a.Calc.getRotationRectanglePoints(i,this.resizeUIPoints,a.Calc.toDegrees(this.image.rotation)),n=a.Calc.getBoundsRectangle(e),o=a.Calc.getBoundsScale(n,this.image),r=this.image.width,s=this.image.height,h=r*o.max,u=s*o.max;r<=h&&s<=u&&(this.image.width=h,this.image.height=u),this.image.fixMove(this.resizeUI,this.stageRotation)}this.image.updatePrevLtPointForPivot(),this.displayImageHit()},i.prototype.rotate=function(){var t=a.Calc.toRadians(-90);this.image.rotation+=t,this.image.rotatePoints(),this.image.updatePrevLtPointForPivot();var i=this.resizeUI.rotationPoints,e=this.resizeUI.pointsToBounds(i),n=a.Calc.getBoundsScale(this.bounds,e).min,o=a.Calc.getImageSizeKeepAspectRatio(e,this.bounds);o.x=this.canvas.width/2-o.width/2,o.y=this.canvas.height/2-o.height/2,this.resizeUI.setSize(o),this.moveUI.setSize(this.resizeUI.bounds),this.resizeUIPoints=this.resizeUI.points,this.image.width=this.image.width*n,this.image.height=this.image.height*n,this.stageRotation+=t,this.maxRotation=this.stageRotation+this.limitRotation,this.minRotation=this.stageRotation-this.limitRotation},i.prototype.rotateEnd=function(t){this.image.updatePrevLtPointForPivot()},i.prototype.cornerResizeStart=function(t){this.stopGuide(),this.stopDrawHit(),this.stopFixMove(),this.startLensBounds=this.resizeUI.bounds,this.image.updatePrevLtPointForPivot()},i.prototype.magnifyImage=function(t){var i=this.image.lt.x-t.x,e=this.image.lt.y-t.y,n=a.Calc.getBoundsScale(this.bounds,t).min,o=a.Calc.getImageSizeKeepAspectRatio(t,this.bounds);o.x=this.canvas.width/2-o.width/2,o.y=this.canvas.height/2-o.height/2,this.resizeUI.setSize(o),this.image.width=this.image.width*n,this.image.height=this.image.height*n;var r=i*n,s=e*n,h=this.image.x-this.image.lt.x,u=this.image.y-this.image.lt.y;this.image.x=o.x+r+h,this.image.y=o.y+s+u,this.image.updatePrevLtPointForPivot()},i.prototype.cornerResizeChange=function(t){var i,e=t.dx,n=t.dy,o=t.target,r=o.x+e,s=o.y+n,a=2*e,h=2*n;r>this.startLensBounds.x&&r<this.startLensBounds.x+this.startLensBounds.width&&s>this.startLensBounds.y&&s<this.startLensBounds.y+this.startLensBounds.height?(i=this.resizeUI.getCornerUpdatePoints(o,r,s),this.image.isContainsBounds(i)?this.resizeUI.setPoint(i):(i=this.resizeUI.fixCorner(o,i,this.image),this.resizeUI.setPoint(i))):(i=this.resizeUI.getCornerUpdatePoints(o,r+a,s+h),this.image.isContainsBounds(i)?this.resizeUI.setPoint(i):(i=this.resizeUI.fixCorner(o,i,this.image),this.resizeUI.setPoint(i)),this.magnifyImage(this.resizeUI.bounds)),this.moveUI.setSize(this.resizeUI.bounds),this.image.updatePrevLtPointForPivot()},i.prototype.cornerResizeEnd=function(t){this.magnifyImage(this.resizeUI.bounds),this.moveUI.setSize(this.resizeUI.bounds),this.gLens.clear(),this.setImagePivot(),this.image.updatePrevLtPointForPivot()},i.prototype.displayImageRotationBounds=function(){var t=a.Calc.getImageSizeKeepAspectRatio(this.image,this.bounds),i={lt:{x:0,y:0},rt:{x:t.width,y:0},rb:{x:t.width,y:t.height},lb:{x:0,y:t.height}},e=a.Calc.getRotationRectanglePoints({x:t.width/2,y:t.height/2},i,a.Calc.toDegrees(this.image.rotation)),n=a.Calc.getBoundsRectangle(e);n.x=this.canvas.width/2-n.width/2,n.y=this.canvas.height/2-n.height/2},s(i,[{key:"bounds",get:function(){var t=this.canvas.width,i=this.canvas.height,e=t-this.paddingX,n=i-this.paddingY;return{width:e,height:n,x:t/2-e/2,y:i/2-n/2}}},{key:"stageRotation",set:function(t){this._stageRotation=t},get:function(){return this._stageRotation}}]),i}(PIXI.Container)},{"./../const/HitSide":3,"./../const/KeyCode":4,"./../ui/MoveUI":9,"./../ui/ResizeUI":10,"./../ui/RotateUI":11,"./../ui/imageUI":12,"./../utils/Calculator":13,"./../utils/Painter":14}],6:[function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function o(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}function r(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}e.__esModule=!0,e.Resizer=void 0;var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),a=t("./../utils/Calculator"),h=t("./../ui/imageUI");e.Resizer=function(t){function i(e,r,s){n(this,i);var a=o(this,t.call(this));return a.initialize(e,r,s),a}return r(i,t),i.prototype.initialize=function(t,i,e){this.paddingX=216,this.paddingY=158,this.canvas=t,this.imageElement=i,this.textureCanvas=e,this.isInitialize=!1,this.image=new h.ImageUI(this.textureCanvas),this.addChild(this.image)},i.prototype.resize=function(){0==this.isInitialize&&(this.isInitialize=!0,this.initializeImage(),this.test())},i.prototype.initializeImage=function(){var t=a.Calc.getImageSizeKeepAspectRatio(this.image,this.bounds);this.image.width=t.width,this.image.height=t.height,this.image.x=this.canvas.width/2,this.image.y=this.canvas.height/2,console.log(this.image.width,this.image.height),console.log(this.canvas.width,this.canvas.height),console.log(this.imageElement.width,this.imageElement.height)},i.prototype.test=function(){},s(i,[{key:"bounds",get:function(){var t=this.canvas.width,i=this.canvas.height,e=t-this.paddingX,n=i-this.paddingY;return{width:e,height:n,x:t/2-e/2,y:i/2-n/2}}}]),i}(PIXI.Container)},{"./../ui/imageUI":12,"./../utils/Calculator":13}],7:[function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function o(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}function r(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}e.__esModule=!0;var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}();e.ControlArea=function(t){function i(e){n(this,i);var r=o(this,t.call(this));return r.initialize(e),r.draw(e),r}return r(i,t),s(i,null,[{key:"ROW",get:function(){return"row"}},{key:"COL",get:function(){return"col"}},{key:"CORNER",get:function(){return"corner"}}]),i.prototype.initialize=function(t){this.type=t,this.globalAlpha=0,this.interactive=!0,this.graphics=new PIXI.Graphics,this.addChild(this.graphics)},i.prototype.draw=function(t){switch(this.graphics.clear(),t){case i.ROW:this.graphics.beginFill(16724736,this.globalAlpha),this.graphics.drawRect(0,-16,1,32);break;case i.COL:this.graphics.beginFill(16724736,this.globalAlpha),this.graphics.drawRect(-16,0,32,1);break;case i.CORNER:this.graphics.beginFill(4359668,this.globalAlpha),this.graphics.drawRect(-16,-16,32,32)}this.graphics.endFill()},i}(PIXI.Sprite)},{}],8:[function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function o(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}function r(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}e.__esModule=!0;var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}();e.CornerShape=function(t){function i(e){n(this,i);var r=o(this,t.call(this));return r.initialize(),r.draw(e),r}return r(i,t),s(i,null,[{key:"LEFT_TOP",get:function(){return"leftTop"}},{key:"RIGHT_TOP",get:function(){return"rightTop"}},{key:"RIGHT_BOTTOM",get:function(){return"rightBottom"}},{key:"LEFT_BOTTOM",get:function(){return"leftBottom"}}]),i.prototype.initialize=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;this.type=t,this.size=e,this.half=e/2,this.thickness=i,this.interactive=!0,this.graphics=new PIXI.Graphics,this.buttonArea=new PIXI.Graphics,this.addChild(this.graphics),this.addChild(this.buttonArea)},i.prototype.draw=function(t){switch(this.drawButtonArea(),t){case i.LEFT_TOP:this.drawLeftTop();break;case i.RIGHT_TOP:this.drawRightTop();break;case i.RIGHT_BOTTOM:this.drawRightBottom();break;case i.LEFT_BOTTOM:this.drawLeftBottom()}},i.prototype.drawButtonArea=function(){var t=this.half,i=this.size;this.buttonArea.clear(),this.buttonArea.beginFill(4359668,0),this.buttonArea.drawRect(-t,-t,i,i),this.buttonArea.endFill()},i.prototype.drawLeftTop=function(){var t=this.half,i=this.thickness;this.graphics.clear(),this.graphics.beginFill(4359668),this.graphics.drawRect(-i,-i,t,i),this.graphics.drawRect(-i,-i,i,t),this.graphics.endFill()},i.prototype.drawRightTop=function(){var t=this.half,i=this.thickness;this.graphics.clear(),this.graphics.beginFill(4359668),this.graphics.drawRect(-(t-i),-i,t,i),this.graphics.drawRect(0,-i,i,t),this.graphics.endFill()},i.prototype.drawRightBottom=function(){var t=this.half,i=this.thickness;this.graphics.clear(),this.graphics.beginFill(4359668),this.graphics.drawRect(-(t-i),0,t,i),this.graphics.drawRect(0,i,i,-t),this.graphics.endFill()},i.prototype.drawLeftBottom=function(){var t=this.half,i=this.thickness;this.graphics.clear(),this.graphics.beginFill(4359668),this.graphics.drawRect(-i,0,t,i),this.graphics.drawRect(-i,i,i,-t),this.graphics.endFill()},i}(PIXI.Sprite)},{}],9:[function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function o(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}function r(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}e.__esModule=!0,e.MoveUI=void 0;t("./../utils/Calculator"),e.MoveUI=function(t){function i(e){n(this,i);var r=o(this,t.call(this));return r.initialize(e),r.render(),r.addMouseDownEvent(),r}return r(i,t),i.prototype.initialize=function(t){this.canvas=t,this.interactive=!0,this.graphics=new PIXI.Graphics,this.addChild(this.graphics)},i.prototype.render=function(){this.graphics.clear(),this.graphics.beginFill(4359668,0),this.graphics.drawRect(0,0,1,1),this.graphics.endFill()},i.prototype.setSize=function(t){this.graphics.width=t.width,this.graphics.height=t.height,this.graphics.x=this.canvas.width/2-this.graphics.width/2,this.graphics.y=this.canvas.height/2-this.graphics.height/2},i.prototype.addMouseDownEvent=function(){this._mouseDownListener=this.onMouseDown.bind(this),this.on("mousedown",this._mouseDownListener)},i.prototype.removeMouseDownEvent=function(){this.off("mousedown",this._mouseDownListener)},i.prototype.addMouseMoveEvent=function(){this._mouseMoveListener=this.onMouseMove.bind(this),this._mouseUpListener=this.onMouseUp.bind(this),window.document.addEventListener("mousemove",this._mouseMoveListener),window.document.addEventListener("mouseup",this._mouseUpListener)},i.prototype.removeMouseMoveEvent=function(){window.document.removeEventListener("mousemove",this._mouseMoveListener),window.document.removeEventListener("mouseup",this._mouseUpListener)},i.prototype.onMouseDown=function(t){this.prevMousePoint={x:t.data.global.x,y:t.data.global.y},this.emit("moveStart"),t.stopPropagation(),this.addMouseMoveEvent(),this.removeMouseDownEvent()},i.prototype.onMouseMove=function(t){this.currentMousePoint={x:t.clientX,y:t.clientY},this.change={x:this.currentMousePoint.x-this.prevMousePoint.x,y:this.currentMousePoint.y-this.prevMousePoint.y},this.emit("moveChange",{prevMousePoint:this.prevMousePoint,currentMousePoint:this.currentMousePoint,change:this.change}),this.prevMousePoint=this.currentMousePoint},i.prototype.onMouseUp=function(t){this.emit("moveEnd"),this.addMouseDownEvent(),this.removeMouseMoveEvent()},i}(PIXI.Sprite)},{"./../utils/Calculator":13}],10:[function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function o(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}function r(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}e.__esModule=!0,e.ResizeUI=void 0;var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),a=t("./CornerShape"),h=t("./ControlArea"),u=t("./../utils/Calculator"),l=(t("./../utils/Painter"),t("./../const/HitSide"));e.ResizeUI=function(t){function i(e){n(this,i);var r=o(this,t.call(this));return r.initialize(e),r.addCornerDownEvent(),r}return r(i,t),i.prototype.initialize=function(t){this.offset=-1,this.canvas=canvas,this.imageRect=new PIXI.Graphics,this.topControl=new h.ControlArea(h.ControlArea.ROW),this.bottomControl=new h.ControlArea(h.ControlArea.ROW),this.leftControl=new h.ControlArea(h.ControlArea.COL),this.rightControl=new h.ControlArea(h.ControlArea.COL),this.lt=new a.CornerShape(a.CornerShape.LEFT_TOP),this.rt=new a.CornerShape(a.CornerShape.RIGHT_TOP),this.rb=new a.CornerShape(a.CornerShape.RIGHT_BOTTOM),this.lb=new a.CornerShape(a.CornerShape.LEFT_BOTTOM),this.addChild(this.imageRect),this.addChild(this.topControl),this.addChild(this.bottomControl),this.addChild(this.leftControl),this.addChild(this.rightControl),this.addChild(this.lt),this.addChild(this.rt),this.addChild(this.rb),this.addChild(this.lb),this.gDebug=new PIXI.Graphics,this.addChild(this.gDebug)},i.prototype.resize=function(t){this.resizeCornerShape(t),this.resizeControl(),this.drawImageRect()},i.prototype.resizeCornerShape=function(t){this.lt.x=t.x-this.offset,this.lt.y=t.y-this.offset,this.rt.x=t.x+t.width+this.offset,this.rt.y=t.y-this.offset,this.rb.x=this.rt.x+this.offset,this.rb.y=t.y+t.height+this.offset,this.lb.x=this.lt.x-this.offset,this.lb.y=this.rb.y+this.offset},i.prototype.resizeControl=function(){this.topControl.x=this.lt.x,this.topControl.y=this.lt.y,this.topControl.width=this.rt.x-this.lt.x,this.bottomControl.x=this.lb.x,this.bottomControl.y=this.lb.y,this.bottomControl.width=this.topControl.width,this.leftControl.x=this.lt.x,this.leftControl.y=this.lt.y,this.leftControl.height=this.rb.y-this.lt.y,this.rightControl.x=this.rt.x,this.rightControl.y=this.rt.y,this.rightControl.height=this.leftControl.height},i.prototype.drawImageRect=function(){this.imageRect.clear(),this.imageRect.lineStyle(2,10395294),this.imageRect.moveTo(this.lt.x,this.lt.y),this.imageRect.lineTo(this.rt.x,this.rt.y),this.imageRect.lineTo(this.rb.x,this.rb.y),this.imageRect.lineTo(this.lb.x,this.lb.y),this.imageRect.lineTo(this.lt.x,this.lt.y),this.imageRect.endFill()},i.prototype.updateOtherCorner=function(t){switch(t){case this.lt:this.rt.y=this.lt.y,this.lb.x=this.lt.x;break;case this.rt:this.lt.y=this.rt.y,this.rb.x=this.rt.x;break;case this.rb:this.rt.x=this.rb.x,this.lb.y=this.rb.y;break;case this.lb:this.lt.x=this.lb.x,this.rb.y=this.lb.y}this.drawImageRect()},i.prototype.setSize=function(t){var i=t.x,e=t.y,n=t.width,o=t.height;this.lt.x=i,this.lt.y=e,this.rt.x=i+n,this.rt.y=e,this.rb.x=this.rt.x,this.rb.y=e+o,this.lb.x=i,this.lb.y=this.rb.y,this.drawImageRect()},i.prototype.setPoint=function(t){this.lt.x=t.lt.x,this.lt.y=t.lt.y,this.rt.x=t.rt.x,this.rt.y=t.rt.y,this.rb.x=t.rb.x,this.rb.y=t.rb.y,this.lb.x=t.lb.x,this.lb.y=t.lb.y,this.drawImageRect()},i.prototype.getCornerUpdatePoints=function(t,i,e){var n=this.points;switch(t){case this.lt:n.lt.x=i,n.lt.y=e,n.rt.y=n.lt.y,n.lb.x=n.lt.x;break;case this.rt:n.rt.x=i,n.rt.y=e,n.lt.y=n.rt.y,n.rb.x=n.rt.x;break;case this.rb:n.rb.x=i,n.rb.y=e,n.rt.x=n.rb.x,n.lb.y=n.rb.y;break;case this.lb:n.lb.x=i,n.lb.y=e,n.lt.x=n.lb.x,n.rb.y=n.lb.y}return n},i.prototype.fixCorner=function(t,i,e){for(var n=e.getHitPoints(i),o=0;o<n.length;o++){var r,s=n[o],a=s.point;switch(s.hitSide){case l.HitSide.LEFT:r=this.getLeft(i,e),i=this.getCornerUpdatePoints(a,r.x,r.y);break;case l.HitSide.RIGHT:r=this.getRight(i,e),i=this.getCornerUpdatePoints(a,r.x,r.y);break;case l.HitSide.TOP:r=this.getTop(i,e),i=this.getCornerUpdatePoints(a,r.x,r.y);break;case l.HitSide.BOTTOM:r=this.getBottom(i,e),i=this.getCornerUpdatePoints(a,r.x,r.y)}}return i},i.prototype.getLeft=function(t,i){var e,n;return e=i.isOutLeftLine(t.lt)?i.getLeftIntersectionPoint(t.lt).x:i.isOutTopLine(t.lt)?i.getTopIntersectionPoint(t.lt).x:i.isOutBottomLine(t.lt)?i.getBottomIntersectionPoint(t.lt).x:t.lt.x,n=i.isOutLeftLine(t.lb)?i.getLeftIntersectionPoint(t.lb).x:i.isOutTopLine(t.lb)?i.getTopIntersectionPoint(t.lb).x:i.isOutBottomLine(t.lb)?i.getBottomIntersectionPoint(t.lb).x:t.lb.x,Math.max(e,n)},i.prototype.getTop=function(t,i){var e,n;return e=i.isOutTopLine(t.lt)?i.getTopIntersectionPoint(t.lt).y:i.isOutLeftLine(t.lt)?i.getLeftIntersectionPoint(t.lt).y:i.isOutRightLine(t.lt)?i.getRightIntersectionPoint(t.lt).y:t.lt.y,n=i.isOutTopLine(t.rt)?i.getTopIntersectionPoint(t.rt).y:i.isOutLeftLine(t.rt)?i.getLeftIntersectionPoint(t.rt).y:i.isOutRightLine(t.rt)?i.getRightIntersectionPoint(t.rt).y:t.rt.y,Math.max(e,n)},i.prototype.getRight=function(t,i){var e,n;return e=i.isOutRightLine(t.rt)?i.getRightIntersectionPoint(t.rt).x:i.isOutTopLine(t.rt)?i.getTopIntersectionPoint(t.rt).x:i.isOutBottomLine(t.rt)?i.getBottomIntersectionPoint(t.rt).x:t.rt.x,n=i.isOutRightLine(t.rb)?i.getRightIntersectionPoint(t.rb).x:i.isOutTopLine(t.rb)?i.getTopIntersectionPoint(t.rb).x:i.isOutBottomLine(t.rb)?i.getBottomIntersectionPoint(t.rb).x:t.rb.x,Math.min(e,n)},i.prototype.getBottom=function(t,i){var e,n;return e=i.isOutBottomLine(t.rb)?i.getBottomIntersectionPoint(t.rb).y:i.isOutLeftLine(t.rb)?i.getLeftIntersectionPoint(t.rb).y:i.isOutRightLine(t.rb)?i.getRightIntersectionPoint(t.rb).y:t.rb.y,n=i.isOutBottomLine(t.lb)?i.getBottomIntersectionPoint(t.lb).y:i.isOutLeftLine(t.lb)?i.getLeftIntersectionPoint(t.lb).y:i.isOutRightLine(t.lb)?i.getRightIntersectionPoint(t.lb).y:t.lb.y,Math.min(e,n)},i.prototype.pointsToBounds=function(t){return{x:t.lt.x,y:t.lt.y,width:t.rt.x-t.lt.x,height:t.rb.y-t.rt.y}},i.prototype.isLtInsideBounds=function(t){return u.Calc.isInsideSquare(this.lt,t.lt,t.rt,t.rb,t.lb)},i.prototype.isRtInsideBounds=function(t){return u.Calc.isInsideSquare(this.rt,t.lt,t.rt,t.rb,t.lb)},i.prototype.isRbInsideBounds=function(t){return u.Calc.isInsideSquare(this.rb,t.lt,t.rt,t.rb,t.lb)},i.prototype.isLbInsideBounds=function(t){return u.Calc.isInsideSquare(this.lb,t.lt,t.rt,t.rb,t.lb)},i.prototype.onCornerDown=function(t){t.stopPropagation(),this.selectedTarget=t.target,this.dragStartX=this.prevDragX=t.data.global.x,this.dragStartY=this.prevDragY=t.data.global.y,this.addCornerMoveEvent(),this.removeCornerDownEvent(),this.emit("cornerResizeStart",{target:this.selectedTarget,dragStartX:this.dragStartX,dragStartY:this.dragStartY})},i.prototype.onCornerMove=function(t){this.currentDragX=t.clientX,this.currentDragY=t.clientY,this.dx=this.currentDragX-this.prevDragX,this.dy=this.currentDragY-this.prevDragY,this.emit("cornerResizeChange",{dx:this.dx,dy:this.dy,prevX:this.prevDragX,prevY:this.prevDragY,target:this.selectedTarget}),this.prevDragX=this.currentDragX,this.prevDragY=this.currentDragY},i.prototype.onCornerUp=function(t){this.addCornerDownEvent(),this.removeCornerMoveEvent(),this.emit("cornerResizeEnd",{target:this.selectedTarget}),this.selectedTarget=null},i.prototype.addCornerDownEvent=function(){this._cornerDownListener=this.onCornerDown.bind(this),this.lt.on("mousedown",this._cornerDownListener),this.rt.on("mousedown",this._cornerDownListener),this.rb.on("mousedown",this._cornerDownListener),this.lb.on("mousedown",this._cornerDownListener)},i.prototype.removeCornerDownEvent=function(){this.lt.off("mousedown",this._cornerDownListener),this.rt.off("mousedown",this._cornerDownListener),this.rb.off("mousedown",this._cornerDownListener),this.lb.off("mousedown",this._cornerDownListener)},i.prototype.addCornerMoveEvent=function(){this._cornerUpListener=this.onCornerUp.bind(this),this._cornerMoveListener=this.onCornerMove.bind(this),window.document.addEventListener("mouseup",this._cornerUpListener),window.document.addEventListener("mousemove",this._cornerMoveListener)},i.prototype.removeCornerMoveEvent=function(){window.document.removeEventListener("mouseup",this._cornerUpListener),window.document.removeEventListener("mousemove",this._cornerMoveListener)},s(i,[{key:"bounds",get:function(){return{x:this.lt.x,y:this.lt.y,width:this.rt.x-this.lt.x,height:this.rb.y-this.rt.y}}},{key:"points",get:function(){return{lt:{x:this.lt.x,y:this.lt.y},rt:{x:this.rt.x,y:this.rt.y},rb:{x:this.rb.x,y:this.rb.y},lb:{x:this.lb.x,y:this.lb.y}}}},{key:"rotationPoints",get:function(){var t={x:this.cx,y:this.cy};return{lt:u.Calc.getRotationPoint(t,this.rt,-90),rt:u.Calc.getRotationPoint(t,this.rb,-90),rb:u.Calc.getRotationPoint(t,this.lb,-90),lb:u.Calc.getRotationPoint(t,this.lt,-90)}}},{key:"cx",get:function(){return this.lt.x+this.bounds.width/2}},{key:"cy",get:function(){return this.lt.y+this.bounds.height/2}},{key:"isMinWidth",get:function(){var t=this.bounds,i=2*this.size+this.half;return t.width<i}},{key:"isMinHeight",get:function(){var t=this.bounds,i=2*this.size+this.half;return t.height<i}}]),i}(PIXI.Container)},{"./../const/HitSide":3,"./../utils/Calculator":13,"./../utils/Painter":14,"./ControlArea":7,"./CornerShape":8}],11:[function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function o(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}function r(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}e.__esModule=!0,e.RotateUI=void 0;var s=t("./../utils/Calculator");e.RotateUI=function(t){function i(e){n(this,i);var r=o(this,t.call(this));return r.initialize(e),r.render(),r.addMouseDownEvent(),r}return r(i,t),i.prototype.initialize=function(t){this.canvas=t,this.interactive=!0,this.graphics=new PIXI.Graphics,this.addChild(this.graphics)},i.prototype.render=function(){this.graphics.clear(),this.graphics.beginFill(16711935,0),this.graphics.drawRect(0,0,1,1),this.graphics.endFill()},i.prototype.resize=function(){this.graphics.width=this.canvas.width,this.graphics.height=this.canvas.height,this.centerX=this.canvas.width/2,this.centerY=this.canvas.height/2},i.prototype.addMouseDownEvent=function(){this._mouseDownListener=this.onMouseDown.bind(this),this.on("mousedown",this._mouseDownListener)},i.prototype.removeMouseDownEvent=function(){this.off("mousedown",this._mouseDownListener)},i.prototype.addMouseMoveEvent=function(){this._mouseMoveListener=this.onMouseMove.bind(this),this._mouseUpListener=this.onMouseUp.bind(this),window.document.addEventListener("mousemove",this._mouseMoveListener),window.document.addEventListener("mouseup",this._mouseUpListener)},i.prototype.removeMouseMoveEvent=function(){window.document.removeEventListener("mousemove",this._mouseMoveListener),window.document.removeEventListener("mouseup",this._mouseUpListener)},i.prototype.onMouseDown=function(t){this.prevRotation=s.Calc.getRotation({x:this.centerX,y:this.centerY},{x:t.data.global.x,y:t.data.global.y}),this.emit("rotateStart",{prevRotation:this.prevRotation,currentRotation:this.prevRotation,currentRadian:s.Calc.toRadians(this.prevRotation)}),t.stopPropagation(),this.addMouseMoveEvent(),this.removeMouseDownEvent()},i.prototype.onMouseMove=function(t){this.currentRotation=s.Calc.getRotation({x:this.centerX,y:this.centerY},{x:t.clientX,y:t.clientY}),this.change=this.currentRotation-this.prevRotation,this.absChange=this.change<0?-1*this.change:this.change,this.absChange<100&&this.emit("rotateChange",{prevRotation:this.prevRotation,currentRotation:this.currentRotation,currentRadian:s.Calc.toRadians(this.currentRotation),change:s.Calc.toRadians(this.change)}),this.prevRotation=this.currentRotation},i.prototype.onMouseUp=function(t){this.emit("rotateEnd"),this.addMouseDownEvent(),this.removeMouseMoveEvent()},i}(PIXI.Sprite)},{"./../utils/Calculator":13}],12:[function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function o(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}function r(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}e.__esModule=!0,e.ImageUI=void 0;var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),a=t("./../utils/Calculator"),h=(t("./../utils/Painter"),t("./../const/HitSide"));e.ImageUI=function(t){function i(e){n(this,i);var r=o(this,t.call(this));return r.initialize(e),r.addDebugPoint(),r}return r(i,t),i.prototype.initialize=function(t){this.textureCanvas=t,this.image=new PIXI.Sprite(new PIXI.Texture(new PIXI.BaseTexture(t))),this.image.x=-this.image.width/2,this.image.y=-this.image.height/2,this.addChild(this.image),this.ltp=new PIXI.Sprite,this.rtp=new PIXI.Sprite,this.rbp=new PIXI.Sprite,this.lbp=new PIXI.Sprite,this.ltp.x=this.image.x,this.ltp.y=this.image.y,this.rtp.x=this.image.x+this.image.width,this.rtp.y=this.image.y,this.rbp.x=this.image.x+this.image.width,this.rbp.y=this.image.y+this.image.height,this.lbp.x=this.image.x,this.lbp.y=this.image.y+this.image.height,this.addChild(this.ltp),this.addChild(this.rtp),this.addChild(this.rbp),this.addChild(this.lbp)},i.prototype.addDebugPoint=function(){return this.hitSprite=new PIXI.Sprite,this.hitSprite.alpha=0,this.hitColorRect=new PIXI.Graphics,this.hitColorRect.beginFill(16724736,.3),this.hitColorRect.drawRect(-this.width/2,-this.height/2,this.width,this.height),this.hitColorRect.endFill(),this.addChild(this.hitSprite),void this.hitSprite.addChild(this.hitColorRect)},i.prototype.displayHit=function(t){if(this.hitColorRect){this.bounds;var i=!0===t?.3:0;this.hitSprite.alpha=i}},i.prototype.rotatePoints=function(){var t={x:this.rtp.x,y:this.rtp.y},i={x:this.rbp.x,y:this.rbp.y},e={x:this.lbp.x,y:this.lbp.y},n={x:this.ltp.x,y:this.ltp.y};this.ltp.x=t.x,this.ltp.y=t.y,this.rtp.x=i.x,this.rtp.y=i.y,this.rbp.x=e.x,this.rbp.y=e.y,this.lbp.x=n.x,this.lbp.y=n.y},i.prototype.getMoveUpdatePoints=function(t,i){var e=this.points;return e.lt.x+=t,e.lt.y+=i,e.rt.x+=t,e.rt.y+=i,e.rb.x+=t,e.rb.y+=i,e.lb.x+=t,e.lb.y+=i,e},i.prototype.fixMove=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.rotation-i>0?(this.isOutLeftLine(t.lt)&&!1===t.isLtInsideBounds(this)&&a.Calc.moveToCollision(this,t.lt,this.leftLine),this.isOutBottomLine(t.lb)&&!1===t.isLbInsideBounds(this)&&a.Calc.moveToCollision(this,t.lb,this.bottomLine),this.isOutTopLine(t.rt)&&!1===t.isRtInsideBounds(this)&&a.Calc.moveToCollision(this,t.rt,this.topLine),this.isOutRightLine(t.rb)&&!1===t.isRbInsideBounds(this)&&a.Calc.moveToCollision(this,t.rb,this.rightLine)):(this.isOutTopLine(t.lt)&&!1===t.isLtInsideBounds(this)&&a.Calc.moveToCollision(this,t.lt,this.topLine),this.isOutLeftLine(t.lb)&&!1===t.isLbInsideBounds(this)&&a.Calc.moveToCollision(this,t.lb,this.leftLine),this.isOutRightLine(t.rt)&&!1===t.isRtInsideBounds(this)&&a.Calc.moveToCollision(this,t.rt,this.rightLine),this.isOutBottomLine(t.rb)&&!1===t.isRbInsideBounds(this)&&a.Calc.moveToCollision(this,t.rb,this.bottomLine))},i.prototype.getImageMaxScale=function(t){var i=a.Calc.getImageSizeKeepAspectRatio(this,t),e=i.width,n=i.height,o=a.Calc.getDiagonal(e,n);return o/n},i.prototype.updatePrevLtPointForPivot=function(){this.prevLtX=this.lt.x,this.prevLtY=this.lt.y},i.prototype.setPivot=function(t){var i=this.toLocal(t);this.pivot=i,this.pivotGraphics&&(this.pivotGraphics.x=this.pivot.x,this.pivotGraphics.y=this.pivot.y);var e=this.lt.x-this.prevLtX,n=this.lt.y-this.prevLtY;this.x=this.x-e,this.y=this.y-n,this.updatePrevLtPointForPivot()},i.prototype.isOutLeftLine=function(t){return a.Calc.triangleArea(t,this.lb,this.lt)>0},i.prototype.isOutTopLine=function(t){return a.Calc.triangleArea(t,this.lt,this.rt)>0},i.prototype.isOutRightLine=function(t){return a.Calc.triangleArea(t,this.rt,this.rb)>0},i.prototype.isOutBottomLine=function(t){return a.Calc.triangleArea(t,this.rb,this.lb)>0},i.prototype.getLeftIntersectionPoint=function(t){return a.Calc.getShortestDistancePoint(t,this.lb,this.lt)},i.prototype.getTopIntersectionPoint=function(t){return a.Calc.getShortestDistancePoint(t,this.lt,this.rt)},i.prototype.getRightIntersectionPoint=function(t){return a.Calc.getShortestDistancePoint(t,this.rt,this.rb)},i.prototype.getBottomIntersectionPoint=function(t){return a.Calc.getShortestDistancePoint(t,this.rb,this.lb)},i.prototype.isContainsBounds=function(t){for(var i=[t.lt,t.rt,t.rb,t.lb],e=0;e<i.length;e++)if(!1===a.Calc.isInsideSquare(i[e],this.lt,this.rt,this.rb,this.lb))return!1;return!0},i.prototype.getHitSide=function(t){var i=this.lt,e=this.rt,n=this.rb,o=this.lb,r=h.HitSide.NONE;return(a.Calc.triangleArea(t.lt,o,i)>0||a.Calc.triangleArea(t.lb,o,i)>0)&&(r=h.HitSide.LEFT),(a.Calc.triangleArea(t.rt,e,n)>0||a.Calc.triangleArea(t.rb,e,n)>0)&&(r=h.HitSide.RIGHT),(a.Calc.triangleArea(t.lt,i,e)>0||a.Calc.triangleArea(t.rt,i,e)>0)&&(r=r===h.HitSide.NONE?h.HitSide.TOP:r+=","+h.HitSide.TOP),(a.Calc.triangleArea(t.rb,n,o)>0||a.Calc.triangleArea(t.lb,n,o)>0)&&(r=r===h.HitSide.NONE?h.HitSide.BOTTOM:r+=","+h.HitSide.BOTTOM),r},i.prototype.getHitPoints=function(t){var i=this.lt,e=this.rt,n=this.rb,o=this.lb,r=[];return a.Calc.triangleArea(t.lt,o,i)>0&&r.push({point:t.lt,hitSide:h.HitSide.LEFT}),a.Calc.triangleArea(t.lb,o,i)>0&&r.push({point:t.lb,hitSide:h.HitSide.LEFT}),a.Calc.triangleArea(t.rt,e,n)>0&&r.push({point:t.rt,hitSide:h.HitSide.RIGHT}),a.Calc.triangleArea(t.rb,e,n)>0&&r.push({point:t.rb,hitSide:h.HitSide.RIGHT}),a.Calc.triangleArea(t.lt,i,e)>0&&r.push({point:t.lt,hitSide:h.HitSide.TOP}),a.Calc.triangleArea(t.rt,i,e)>0&&r.push({point:t.rt,hitSide:h.HitSide.TOP}),a.Calc.triangleArea(t.rb,n,o)>0&&r.push({point:t.rb,hitSide:h.HitSide.BOTTOM}),a.Calc.triangleArea(t.lb,n,o)>0&&r.push({point:t.lb,hitSide:h.HitSide.BOTTOM}),r},i.prototype.getUpdatePoints=function(t,i){var e=this.image.points;return e.lt.x+=t,e.lt.y+=i,e.rt.x+=t,e.rt.y+=i,e.rb.x+=t,e.rb.y+=i,e.lb.x+=t,e.lb.y+=i,e},i.prototype.toString=function(){return"LT["+a.Calc.leadingZero(parseInt(this.lt.x))+", "+a.Calc.leadingZero(parseInt(this.lt.y))+"] RT["+a.Calc.leadingZero(parseInt(this.rt.x))+", "+a.Calc.leadingZero(parseInt(this.rt.y))+"] RB["+a.Calc.leadingZero(parseInt(this.rb.x))+", "+a.Calc.leadingZero(parseInt(this.rb.y))+"] LB["+a.Calc.leadingZero(parseInt(this.lb.x))+", "+a.Calc.leadingZero(parseInt(this.lb.y))+"] XY["+a.Calc.leadingZero(parseInt(this.x))+", "+a.Calc.leadingZero(parseInt(this.y))+"] WH["+a.Calc.leadingZero(parseInt(this.width))+", "+a.Calc.leadingZero(parseInt(this.height))+"] RO["+a.Calc.digit(a.Calc.toDegrees(this.rotation))+"]"},s(i,[{key:"points",get:function(){return{lt:this.lt,rt:this.rt,rb:this.rb,lb:this.lb}}},{key:"lt",get:function(){return this.toGlobal(this.ltp.position)}},{key:"rt",get:function(){return this.toGlobal(this.rtp.position)}},{key:"rb",get:function(){return this.toGlobal(this.rbp.position)}},{key:"lb",get:function(){return this.toGlobal(this.lbp.position)}},{key:"leftLine",get:function(){return{a:this.lb,b:this.lt}}},{key:"topLine",get:function(){return{a:this.lt,b:this.rt}}},{key:"rightLine",get:function(){return{a:this.rt,b:this.rb}}},{key:"bottomLine",get:function(){return{a:this.rb,b:this.lb}}},{key:"left",get:function(){return Math.min(this.lt.x,this.lb.x)}},{key:"right",get:function(){return Math.max(this.rt.x,this.rb.x)}},{key:"top",get:function(){return Math.min(this.lt.y,this.rt.y)}},{key:"bottom",get:function(){return Math.max(this.lb.y,this.rb.y)}},{key:"size",get:function(){return{width:this.rt.x-this.lt.x,height:this.lb.y-this.lt.y}}},{key:"bounds",get:function(){return{x:this.lt.x,y:this.lt.y,width:this.rt.x-this.lt.x,height:this.rb.y-this.rt.y}}}]),i}(PIXI.Container)},{"./../const/HitSide":3,"./../utils/Calculator":13,"./../utils/Painter":14}],13:[function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}();e.Calc=function(){function t(){n(this,t)}return t.getImageSizeKeepAspectRatio=function(i,e){var n=t.getBoundsScale(e,i).min;return{width:n*i.width,height:n*i.height}},t.getBoundsScale=function(t,i){var e=t.width/i.width,n=t.height/i.height;return e<n?{min:e,max:n}:{max:e,min:n}},t.getRotation=function(i,e){var n=e.x-i.x,o=e.y-i.y,r=Math.atan2(o,n);return t.toDegrees(r)},t.getDiagonal=function(t,i){return Math.sqrt(t*t+i*i)},t.getRectangleWidth=function(t,i,e){return t*e/i},t.toRadians=function(i){return i*t.DEG_TO_RAD},t.toDegrees=function(i){return i*t.RAD_TO_DEG},t.triangleArea=function(t,i,e){return e.x*i.y-i.x*e.y-(e.x*t.y-t.x*e.y)+(i.x*t.y-t.x*i.y)},t.isInsideSquare=function(i,e,n,o,r){return!(t.triangleArea(i,e,n)>0||t.triangleArea(i,n,o)>0||t.triangleArea(i,o,r)>0||t.triangleArea(i,r,e)>0)},t.sampleCodeHitTest=function(i,e,n,o,r){var s={isHitLeft:!1,isHitRight:!1,isHitTop:!1,isHitBottom:!1};return t.triangleArea(i,e,n)>0&&(s.isHitTop=!0),t.triangleArea(i,n,o)>0&&(s.isHitRight=!0),t.triangleArea(i,o,r)>0&&(s.isHitBottom=!0),t.triangleArea(i,r,e)>0&&(s.isHitLeft=!0),s},t.getPointsByBounds=function(t){return{lt:{x:t.x,y:t.y},rt:{x:t.x+t.width,y:t.y},rb:{x:t.x+t.height,y:t.y+t.height},lb:{x:t.x,y:t.y+t.height}}},t.digit=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;0===i&&(i=1);var e=Math.pow(10,i);return parseInt(t*e)/e},t.leadingZero=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,e="";if((t=t.toString()).length<i)for(var n=0;n<i-t.length;n++)e+="0";return e+t},t.getOneToOne=function(t,i,e,n,o){return(o-n)/(e-i)*(t-i)+n},t.getRotationPoint=function(t,i,e){var n=i.x-t.x,o=i.y-t.y,r=Math.sqrt(n*n+o*o),s=(180*Math.atan2(o,n)/Math.PI+e)%360*Math.PI/180;return{x:t.x+r*Math.cos(s)+.5|0,y:t.y+r*Math.sin(s)+.5|0}},t.getRotationPointWithDistance=function(t,i,e,n){var o=i.x-t.x,r=i.y-t.y,s=(180*Math.atan2(r,o)/Math.PI+e)%360*Math.PI/180;return{x:t.x+n*Math.cos(s)+.5|0,y:t.y+n*Math.sin(s)+.5|0}},t.getRotationRectanglePoints=function(i,e,n){return{lt:t.getRotationPoint(i,e.lt,n),rt:t.getRotationPoint(i,e.rt,n),rb:t.getRotationPoint(i,e.rb,n),lb:t.getRotationPoint(i,e.lb,n)}},t.getBoundsRectangle=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=i/2,n=Math.min(t.lt.x,t.rt.x,t.rb.x,t.lb.x),o=Math.min(t.lt.y,t.rt.y,t.rb.y,t.lb.y);return{x:n-e,y:o-e,width:Math.max(t.lt.x,t.rt.x,t.rb.x,t.lb.x)-n+i,height:Math.max(t.lt.y,t.rt.y,t.rb.y,t.lb.y)-o+i}},t.sqr=function(t){return t*t},t.dist2=function(i,e){return t.sqr(i.x-e.x)+t.sqr(i.y-e.y)},t.getShortestDistancePoint=function(i,e,n){var o=t.dist2(e,n);if(0==o)return e;var r=((i.x-e.x)*(n.x-e.x)+(i.y-e.y)*(n.y-e.y))/o;return r=Math.max(0,Math.min(1,r)),{x:e.x+r*(n.x-e.x),y:e.y+r*(n.y-e.y)}},t.distToSegmentSquared=function(i,e,n){var o=t.getShortestDistancePoint(i,e,n);return t.dist2(i,o)},t.distToSegment=function(i,e,n){return Math.sqrt(t.distToSegmentSquared(i,e,n))},t.getReturnPoint=function(t,i){return{x:t.x-i.x,y:t.y-i.y}},t.moveToCollision=function(i,e,n){var o=t.getShortestDistancePoint(e,n.a,n.b),r=t.getReturnPoint(e,o);i.x=i.x+r.x,i.y=i.y+r.y},t.getNextMovePosition=function(t,i,e,n){return{x:t+e*Math.cos(n),y:i+e*Math.sin(n)}},t.hasBox=function(i,e){for(var n=[e.lt,e.rt,e.rb,e.lb],o=0;o<n.length;o++)if(!1===t.isInsideSquare(n[o],i.lt,i.rt,i.rb,i.lb))return!1;return!0},t.trace=function(i){return t.leadingZero(parseInt(i))},t.copyObject=function(t){var i={};for(var e in t)i[e]=t[e];return i},t.getTriangleCenterPoint=function(t,i,e){return{x:(t.x+i.x+e.x)/3,y:(t.y+i.y+e.y)/3}},t.getLineMiddle=function(t,i){return{x:(t.x+i.x)/2,y:(t.y+i.y)/2}},o(t,null,[{key:"DEG_TO_RAD",get:function(){return t._DEG_TO_RAD?t._DEG_TO_RAD:(t._DEG_TO_RAD=Math.PI/180,t._DEG_TO_RAD)}},{key:"RAD_TO_DEG",get:function(){return t._RAD_TO_DEG?t._RAD_TO_DEG:(t._RAD_TO_DEG=180/Math.PI,t._RAD_TO_DEG)}},{key:"DEG180_TO_RAD",get:function(){return t._DEG180_TO_RAD?t._DEG180_TO_RAD:(t._DEG180_TO_RAD=180*Math.PI/180,t._DEG180_TO_RAD)}}]),t}()},{}],14:[function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.Painter=void 0;var o=t("./Calculator");e.Painter=function(){function t(){n(this,t)}return t.getRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16724736,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=t/2,o=new PIXI.Graphics;return o.beginFill(i,e),o.drawRect(-n,-n,t,t),o.endFill(),o},t.getCircle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16724736,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=new PIXI.Graphics;return n.beginFill(i,e),n.drawCircle(0,0,t),n.endFill(),n},t.drawBounds=function(t,i){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16724736,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.7;e&&t.clear(),t.lineStyle(n,o,r),t.drawRect(i.x,i.y,i.width,i.height),t.endFill()},t.drawPoints=function(t,i){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16724736,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.7;e&&t.clear();var s=i.lt,a=i.rt,h=i.rb,u=i.lb;t.lineStyle(n,o,r),t.moveTo(s.x,s.y),t.lineTo(a.x,a.y),t.lineTo(h.x,h.y),t.lineTo(u.x,u.y),t.lineTo(s.x,s.y),t.endFill()},t.drawCircle=function(t,i){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16724736,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.7;arguments.length>5&&void 0!==arguments[5]&&arguments[5]&&t.clear(),t.beginFill(n,o),t.drawCircle(i.x,i.y,e),t.endFill()},t.drawGrid=function(t,i,e){for(var n=.5;n<i;n+=10)(n-.5)%50==0?t.lineStyle(1,10066329,.3):t.lineStyle(1,14540253,.1),t.moveTo(n,0),t.lineTo(n,e);for(var o=.5;o<e;o+=10)(o-.5)%50==0?t.lineStyle(1,10066329,.3):t.lineStyle(1,14540253,.1),t.moveTo(0,o),t.lineTo(i,o);t.endFill()},t.drawDistToSegment=function(t,i,e,n,o){t.beginFill(52275,.2),t.lineStyle(1,39219,.1),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.drawCircle(e.x,e.y,3),t.drawCircle(n.x,n.y,3),t.beginFill(16764159,.2),t.lineStyle(1,13408716,.1),t.moveTo(i.x,i.y),t.lineTo(i.x,o.y),t.lineTo(o.x,o.y),t.drawCircle(i.x,i.y,3),t.drawCircle(o.x,o.y,3),t.endFill()},t.drawLine=function(t,i,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16724736,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;t.lineStyle(n,o,r),t.moveTo(i.x,i.y),t.lineTo(e.x,e.y)},t.drawTriagle=function(t,i,e,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:16724736,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];a&&t.beginFill(r,s),t.lineStyle(o,r,s),t.moveTo(i.x,i.y),t.lineTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),a&&t.endFill()},t.getText=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16777215,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16777215,n=new PIXI.Sprite,o=new PIXI.Text(t,{fontSize:14,fill:i});o.x=-o.width/2,o.y=-o.height/2;var r=new PIXI.Graphics;return r.beginFill(e),r.drawRect(o.x,o.y,o.width,o.height),r.endFill(),n.addChild(r),n.addChild(o),n},t.getArrow=function(t,i){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16777215,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=new PIXI.Sprite,h=new PIXI.Graphics;h.lineStyle(n,r,s),h.moveTo(t.x,t.y),h.lineTo(i.x,i.y);var u=o.Calc.getRotationPointWithDistance(i,t,45,e),l=o.Calc.getRotationPointWithDistance(i,t,-45,e);return h.lineTo(l.x,l.y),h.moveTo(i.x,i.y),h.lineTo(u.x,u.y),a.addChild(h),a},t}()},{"./Calculator":13}],15:[function(t,i,e){"use strict";e.__esModule=!0;var n={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(1-Math.pow(2,-10*t/1))},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var i=1.70158,e=0,n=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),n<Math.abs(1)?(n=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*(t-=1))*Math.sin((1*t-i)*(2*Math.PI)/e))},easeOutElastic:function(t){var i=1.70158,e=0,n=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),n<Math.abs(1)?(n=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((1*t-i)*(2*Math.PI)/e)+1)},easeInOutElastic:function(t){var i=1.70158,e=0,n=1;return 0===t?0:2==(t/=.5)?1:(e||(e=.3*1.5*1),n<Math.abs(1)?(n=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/n),t<1?n*Math.pow(2,10*(t-=1))*Math.sin((1*t-i)*(2*Math.PI)/e)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((1*t-i)*(2*Math.PI)/e)*.5+1)},easeInBack:function(t){var i=1.70158;return 1*(t/=1)*t*((i+1)*t-i)},easeOutBack:function(t){var i=1.70158;return 1*((t=t/1-1)*t*((i+1)*t+i)+1)},easeInOutBack:function(t){var i=1.70158;return(t/=.5)<1?t*t*((1+(i*=1.525))*t-i)*.5:.5*((t-=2)*t*((1+(i*=1.525))*t+i)+2)},easeInBounce:function(t){return 1-n.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t*1:t<2/2.75?1*(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return t<.5?.5*n.easeInBounce(2*t):.5*n.easeOutBounce(2*t-1)+.5}},o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),r=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),s=function(t,i,e,r,s,a){var h=0,u=n[e]||n.linear;o(function e(){var n=++h/i,l=u(n);if(t.call(a,l,n,h),r.call(a,l,n),h<i)try{a.animationFrame=o(e)}catch(t){console.log(t)}else s.apply(a)})};e.easingEffects=n,e.requestAnimFrame=o,e.cancelAnimFrame=r,e.animationLoop=s},{}]},{},[1]);